; Generated by Ripple C99 Compiler (rcc)

; Program entry point
_start:
    ; Initialize stack pointer
    LI R13, 0       ; Stack bank = 0
    LI R14, 1000   ; Stack pointer starts at 1000
    LI R15, 1000   ; Frame pointer starts at 1000
    ; Initialize globals
    CALL _init_globals
    CALL main
    HALT

; Function: main
main:
; Alloca for t0 at FP+1
    ADDI R3, R15, 1
    LI R4, 42
; Store 42 to [t0]
    STORE R4, R13, R3
; Alloca for t1 at FP+2
    ADDI R5, R15, 2
; Store t0 to [t1]
    STORE R3, R13, R5
; Alloca for t2 at FP+3
    ADDI R6, R15, 3
; Load from [t1] to t3
    LOAD R7, R13, R5
; Load from [t3] to t4
    LOAD R8, R13, R7
; Store t4 to [t2]
    STORE R8, R13, R6
; Load from [t1] to t5
    LOAD R3, R13, R5
    LI R4, 100
; Store 100 to [t5]
    STORE R4, R13, R3
; Load from [t0] to t6
    LOAD R5, R13, R3
    LI R6, 100
    SLT R9, R5, R6
    SLT R10, R6, R5
    OR R7, R9, R10
    LI R9, 1
    SUB R7, R9, R7
; Branch if t7 to L1 else L3
L1:
    LI R8, 79
    STORE R8, R0, R0
    LI R3, 75
    STORE R3, R0, R0
    LI R4, 10
    STORE R4, R0, R0
; Jump to label 3
L3:
    LI R5, 0
    ADD R3, R5, R0
    RET
