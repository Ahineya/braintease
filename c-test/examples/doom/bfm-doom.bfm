#include "lib/program.bfm"
#include "lib/stdio.bfm"

@proc(add,
  {:add sc, } @arg1 {:, } @arg2 {br}
  @retval(sc, r0)
)

@proc(main,
  @mov(t0, gp)

  @set(t1, 10)
  @set(t2, 65)
  @poke(t2, t0, t1) @a(; A)

  @set(t1, 11)
  @set(t2, 66)
  @poke(t2, t0, t1) @a(; B)

  @set(t1, 12)
  @set(t2, 67)
  @poke(t2, t0, t1) @a(; C)
  
  @set(t1, 10) @a(; \n)

  @call2(puts, @reg, t0, @reg, t1)
)
