; Generated by Ripple C99 Compiler (rcc)

; Function: puts
puts:
    STORE RA, R13, R14
    ADDI R14, R14, 1
    STORE R15, R13, R14
    ADDI R14, R14, 1
    ADD R15, R14, R0
    LI R4, 0
    SLTU R7, R3, R4
    SLTU R6, R4, R3
    OR R5, R7, R6
    LI R6, 1
    SUB R5, R6, R5
    BNE R5, R0, puts_L1
    BEQ R0, R0, puts_L3
puts_L1:
    LI R3, 0
    LI R4, 1
    SUB R5, R3, R4
    ADD R3, R5, R0
    ADD R14, R15, R0
    ADDI R14, R14, -1
    LOAD R15, R13, R14
    ADDI R14, R14, -1
    LOAD RA, R13, R14
    RET
    BEQ R0, R0, puts_L3
puts_L3:
    BEQ R0, R0, puts_L4
puts_L4:
; Load from [t0] to t4
; Select bank register based on tag
    LI R6, 1
    BEQ R4, R6, bank_stack_3
    ADD R6, R0, R0
    BEQ R0, R0, bank_done_3
bank_stack_3:
    ADD R6, R13, R0
bank_done_3:
    LOAD R5, R6, R3
    BNE R5, R0, puts_L5
    BEQ R0, R0, puts_L6
puts_L5:
; Load from [t0] to t5
; Select bank register based on tag
    LI R6, 1
    BEQ R4, R6, bank_stack_5
    ADD R6, R0, R0
    BEQ R0, R0, bank_done_5
bank_stack_5:
    ADD R6, R13, R0
bank_done_5:
    LOAD R5, R6, R3
    ADD R3, R5, R0
    CALL putchar
    LI R4, 1
    ADD R5, R3, R4
; Select bank register based on tag
    LI R6, 1
    BEQ R4, R6, bank_stack_7
    ADD R6, R0, R0
    BEQ R0, R0, bank_done_7
bank_stack_7:
    ADD R6, R13, R0
bank_done_7:
; Store t6 to [t0]
    STORE R5, R6, R3
    BEQ R0, R0, puts_L4
puts_L6:
    LI R4, 10
    ADD R3, R4, R0
    CALL putchar
    LI R4, 0
    ADD R3, R4, R0
    ADD R14, R15, R0
    ADDI R14, R14, -1
    LOAD R15, R13, R14
    ADDI R14, R14, -1
    LOAD RA, R13, R14
    RET
