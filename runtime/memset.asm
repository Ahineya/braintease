; Generated by Ripple C99 Compiler (rcc)

; Function: memset
memset:
    STORE RA, R13, R14
    ADDI R14, R14, 1
    STORE R15, R13, R14
    ADDI R14, R14, 1
    ADD R15, R14, R0
; Alloca for t3 at FP+1
    ADDI R5, R15, 1
    LI R6, 0
    ADDI R6, R15, 1
; Store 0 to [t3]
    STORE R6, R13, R6
    BEQ R0, R0, memset_L1
memset_L1:
; Load from [t3] to t4
    ADDI R6, R15, 1
    LOAD R5, R13, R6
    SLTU R7, R5, R5
    BNE R7, R0, memset_L2
    BEQ R0, R0, memset_L4
memset_L2:
; Load from [t3] to t6
    ADDI R6, R15, 1
    LOAD R5, R13, R6
; GetElementPtr t7 = t0 + offsets
;   Base t0 in R3
    ADD R7, R3, R5
; Store t1 to [t7]
; WARNING: Assuming unknown pointer points to global memory
    STORE R4, R0, R7
    BEQ R0, R0, memset_L3
memset_L3:
; Load from [t3] to t8
    ADDI R6, R15, 1
    LOAD R5, R13, R6
    LI R4, 1
    ADD R7, R5, R4
    ADDI R8, R15, 1
; Store t9 to [t3]
    STORE R7, R13, R8
    BEQ R0, R0, memset_L1
memset_L4:
    ADD R14, R15, R0
    ADDI R14, R14, -1
    LOAD R15, R13, R14
    ADDI R14, R14, -1
    LOAD RA, R13, R14
    RET
